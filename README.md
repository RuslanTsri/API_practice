# Документація по використанню CRUD операцій

Ця документація пояснює, як використовувати CRUD операції для роботи з юристами. Нижче наведено URL для кожної операції:

## Операції:

- **Get All Lawyers**:  
  `GET https://localhost:5000/lawyers`

- **Get Lawyer By ID**:  
  `GET https://localhost:5000/lawyers/{id}`  
  (Введіть ID юриста)

- **Post Lawyer**:  
  `POST https://localhost:5000/addLawyer`

- **Patch Lawyer**:  
  `PATCH https://localhost:5000/updateLawyer/{id}`

- **Delete Lawyer**:  
  `DELETE https://localhost:5000/deleteLawyer/{id}`

## Структура даних:

```json
{
  "id": " ", // Прописувати не потрібно, автоматично визначається
  "first_name": " ",
  "last_name": " ",
  "middle_name": " ",
  "email": " ",
  "contact": " ",
  "experience": " ",
  "UNITE_number": " " // Прописувати не потрібно, визначається автоматично
}
```

## Технології:
Сервер використовувався з фреймворку Node.js з інструментом автоматичного перезапуску 
при змінах у файлі nodemon.

## ПАТЧ-НОУТ 30 січня 2025 року (30.01.2025):
1. Було додано автентифікацію за ролями:
   - **Admin** (адміністратор) має повний доступ.
   - **Lawyer** (простий юзер) може переглядати лише свої дані.

2. **Endpoints** були розподілені в окремі директиви:
   - **CRUD**: для операцій з юристами.
   - **Auth**: для операцій автентифікації та авторизації.

3. Додані нові CRUD операції:
   - **POST Register**: реєстрація користувача за полями `email`, `password`, `role`.
   - **POST Activation code**: активація аккаунту за полями `email` та `activationCode`.
   - **POST Login**: авторизація аккаунту та генерування JWT токену.
## Використання:
Першим ділом вам потрібно запустити сервер. За це відповідає файл `server.js`. 
В програмі Postman використати реєстрацію, активацію, авторизацію, де отримаєте JWT токен.
Шаблони вже прописані в вкладці Body кожної CRUD операції.
Потім, для використання основних CRUD операцій спочатку виберіть у вкладці **Authorization** тип "Bearer Token", а в поле **Token** 
вставте згенерований токен автентифікації.

**УВАГА:** Проєкт адаптований поки що лише під дві ролі Admin, та Lawyer (звичаний User).
## Логування:

У самому **PHPStorm** я додав логування, щоб ви могли спостерігати за процесом роботи проєкту.


---

### Автор:
Цимбалюк Руслан

### Група:
ІПЗ-23-4

### Email:
[ipz234_tsri@student.ztu.edu.ua](mailto:ipz234_tsri@student.ztu.edu.ua)